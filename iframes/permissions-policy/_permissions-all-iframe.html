<!DOCTYPE html>
<html>
	<body>
	
		<h1>All-permissions <b>Iframe</b></h1>
		<div id="intro">
			Iframe that tries to use all the permissions allowed.
		</div>
		<script>
			div = document.getElementById('intro');
			// Checks
			// PP Header not allowing X and just the iframe using it with the allow in the declaration
			// Same with sandbox


			// Headers 
			// ch-ect

			// =========================================================== GEOLOCATION
			//Permissions.query('geolocation');
			navigator.geolocation.getCurrentPosition((pos) => {console.log(pos.coords);});
			
			// =========================================================== Storage Access
			//Permissions.query('storage-access');
			document.hasStorageAccess();
			document.requestStorageAccess();
			// =========================================================== Gamepad
			//Permissions.query('gamepad');
			window.addEventListener("gamepadconnected", (e) => {
			  console.log(
			    "Gamepad connected at index %d: %s. %d buttons, %d axes.",
			    e.gamepad.index,
			    e.gamepad.id,
			    e.gamepad.buttons.length,
			    e.gamepad.axes.length,
			  );
			});
			window.addEventListener("gamepaddisconnected", (e) => {
			  console.log(
			    "Gamepad disconnected from index %d: %s",
			    e.gamepad.index,
			    e.gamepad.id,
			  );
			});
			navigator.getGamepads()
			// =========================================================== MIDI
			navigator.requestMIDIAccess();

		</script>
	</body>
</html>
