<!DOCTYPE html>
<html>
	<body>
		<div id="intro">
			This window will send the Message 'IFRAME TO IFRAME MESSAGE' to other iframes 
		</div>
		<script>
			// Array
			a = [1, "2", 'm', true, {'id':1}];
			// ArrayBuffer
			buf = new ArrayBuffer(16);
			b = new Uint32Array(buf);
			b[0] = 123456;
			// Boolean
			c = true;
			// DataView
			d = new DataView(buf).setInt16(0, 256, true);
			// Date
			e = new Date(8.64e15);
			// Error
			f = new Error("Whoops!");
			// Map
			g = new Map();
			g.set('1', 2);
			//Object
			h = {
			  foo: 1,
			};
			// Primitives -> Null, Undefined, Boolean, Number, BigInt, String.
			// RegExp 
			i = new RegExp("ab+c", "i");
			// Set
			j = new Set();
			j.add(1);
			// String
			k = new String("A String object");
			// TypedArray
			l = new Int8Array(8);
			l[0] = 32;
			
			// All type of possible messages for all the Iframes
			// https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm
			all = [a, b, c, d, e, f, g, h, i, j, k, l];

			// WebAPI
			// File
			file = new File(["foo"], "foo.txt", {
			  type: "text/plain",
			});
			
			// WebAPI
			// All
			all_webapi = [file];

			for(let i = 0; i < window.parent.length; i++){
				for(let x = 0; x < all.length; x++){
					//console.log("--- item: " + all[x]);
					window.parent.frames[i].postMessage(all[x],"*");
				}
				for(let x = 0; x < all_webapi.length; x++){
					window.parent.frames[i].postMessage(all_webapi[x],"*");
				}
				break
			}
		</script>
	</body>
</html>
