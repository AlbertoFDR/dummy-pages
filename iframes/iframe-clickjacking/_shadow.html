<!DOCTYPE html>
<html>
	<body>
	
		<h1>Clipboard API test</h1>
		<div id="write-clipboard">
			In this section, if you click the bottom the webpage writes "LorepIpsum" in the clipboard.
			<button onclick=writeClipboard()>Write to Clipboard!</button>
		</div>
		<hr>
		<hr>
		<div id="read-clipboard">
			In this section, the webpage reads the clipboard for each 2 seconds printing the copied text in the bottom. Copied text: 
			<p id="paste"></p>
		</div>
	
		
		<script>
			// Function to write in the clipboard
			function writeClipboard(){
				navigator.clipboard.writeText("LorepIpsum");
			}

			// Set listener to see what's in the clipboard
			var read = 0;
			function checkClipboard(){
				console.log('Checking clipboard');
				// Set listener to copy
				navigator.clipboard.readText().then( (clipText) => {
					console.log(clipText);
					text = `Time ${read}, text: ${clipText}.\n` 
					document.querySelector("#paste").innerText += text
					read += 1;
				});
			}

			setInterval(checkClipboard, 2000)
		
		
		</script>
	
	</body>
</html>
